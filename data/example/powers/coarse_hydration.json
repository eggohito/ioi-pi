{
    "type": "apoli:item_on_item",
    "using_item_condition": {
        "type": "apoli:and",
        "conditions": [
            {
                "type": "apoli:ingredient",
                "ingredient": {
                    "item": "minecraft:potion"
                }
            },
            {
                "type": "apoli:or",
                "conditions": [
                    {
                        "type": "apoli:nbt",
                        "nbt": "{Potion: \"minecraft:water\"}"
                    },
                    {
                        "type": "apoli:nbt",
                        "nbt": "{Potion: \"water\"}"
                    }
                ]
            }
        ]
    },
    "on_item_condition": {
        "type": "apoli:ingredient",
        "ingredient": {
            "item": "minecraft:coarse_dirt"
        }
    },
    "using_item_action": {
        "type": "apoli:modify",
        "modifier": "ioi-pi:api/select/using_item"
    },
    "on_item_action": {
        "type": "apoli:modify",
        "modifier": "ioi-pi:api/select/on_item"
    },
    "entity_action": {
        "type": "apoli:and",
        "actions": [
            {
                "type": "apoli:execute_command",
                "command": "tag @s add example.water_bottle_on_coarse_dirt"
            },
            {
                "type": "apoli:execute_command",
                "command": "function #ioi-pi:api/selected_item/get"
            },
            {
                "type": "apoli:execute_command",
                "command": "tag @s remove example.water_bottle_on_coarse_dirt"
            }
        ]
    }
}